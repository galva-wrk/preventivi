<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Questa include serve fuori da electron -->
    <!-- <script src="node_modules/jquery/dist/jquery.min.js"></script> -->
    <!-- Questa include serve per electron -->
    <script>window.$ = window.jQuery = require('jquery');</script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="js/preventivi.js"></script>
    <script src="js/preventiviElectron.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="node_modules/font-awesome/css/font-awesome.min.css">

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script> 
    
    <title></title>
  </head>
  <body>
    <div class="container">
      <h3>Creazione preventivo</h3>
      <form class="form-horizontal" name="preventivo">
  			<div class="form-group">
  				<label class="control-label col-sm-2" for="cliente">Cliente:</label>
  				<div class="col-xs-2">
  					<input type="text" class="form-control" id="cliente" placeholder="Codice cliente"></input>
  				</div>
  				<button type="button" class="btn btn-warning" title="Ricerca cliente" data-toggle="modal" data-target="#modalCliente">
  					<span class="fa fa-search"></span> <span class="fa fa-user"></span>
          </button>
  			</div>
  			<div class="form-group">
  				<div class="col-sm-offset-2  col-sm-10">
  					<div class="card card-block bg-light"><b>Galvani Davide - C.F. GLVDVD87L14L949T<br> via A. Labriola, 52 - 37069<br> Villafranca di Verona (VR)</b></div>
  				</div>
  			</div>
  			<div class="form-group">
  				<label class="control-label col-sm-2" for="cliente">Ritenuta d'acconto:</label>
  				<div class="col-sm-10">
  					<div class="onoffswitch">
  						<!-- <input type="checkbox" class="onoffswitch-checkbox" id="ritenutaSwitch" onclick="gestRitenuta()" value="ON" checked> -->
  						<input type="checkbox" class="onoffswitch-checkbox" id="ritenutaSwitch" value="ON" checked>
  						<label class="onoffswitch-label" for="ritenutaSwitch">
  							<span class="onoffswitch-inner"></span>
  							<span class="onoffswitch-switch"></span>
  						</label>
  					</div>
  				</div>
  			</div>
  			<div class="form-group">
  				<label class="control-label col-sm-2" for="opere">Opere:</label>
  				<div class="col-sm-10">
  					<!-- <button type="button" class="btn btn-warning glyphicon glyphicon-chevron-right" id="btnCollapse" onclick="changeIcon('btnCollapse')" data-toggle="collapse" data-target=".multi-collapse" aria-expanded="false" aria-controls="descr1 descr2"></button> -->
  					<button type="button" class="btn btn-warning fa fa-sort-down" id="btnCollapse"></button>
  					<button type="button" class="btn btn-success fa fa-plus" data-toggle="modal" data-target="#modalOpera"></button>
  
  					<!-- tabella -->
  					<table id="opere" class="table table-hover table-condensed table-responsive">
  						<thead>
  							<tr>
  								<th style="width:10%">Cod.</th>
  								<th style="width:64%">Descrizione</th>
  								<th style="width:11%"></th>
  								<th style="width:15%">Importo</th>
  							</tr>
  						</thead>
  						<tbody>
  							<tr>
  								<td>001</td>
  								<td>
  									<div>
  										<!-- <button type="button" class="btn btn-warning fa fa-sort-down" id="clTb1" onclick="changeIcon('clTb1')" data-toggle="collapse" data-target="#descr1"></button> -->
  										<button type="button" class="btn btn-warning fa fa-sort-down btn-tab" id="1"></button>
  										<span id="descrBrev1">Saldo spese trasformazione veranda</span>
  										<div id="descr1" class="collapse multi-collapse descr">
  											Saldo spese tecniche riguardanti il progetto per la trasformazione di una terrazza in veranda, a servizio dell'unità abitativa di proprietà, sita in Via Salvo D'acquisto n. 4/A nel comune di Mozzecane, di cui a Segnalazione Certificata di Inizio Attività
  											Prot. n. 9221 del 16/11/2017.
  										</div>
  									</div>
  									<!-- <div id="descr1" class="collapse multi-collapse descr">
  										Saldo spese tecniche riguardanti il progetto per la trasformazione di una terrazza in veranda, a servizio dell'unità abitativa di proprietà, sita in Via Salvo D'acquisto n. 4/A nel comune di Mozzecane, di cui a Segnalazione Certificata di Inizio Attività
  										Prot. n. 9221 del 16/11/2017.
  									</div> -->
  								</td>
  								<td>
  									<button type="button" class="btn btn-danger fa fa-minus" title="Rimuovi opera"></button>
  									<button type="button" class="btn btn-info fa fa-pencil-square-o" title="Modifica Opera" data-toggle="modal" data-target="#modalOperaMod"></button>
  								</td>
  								<td class="importo">1.000,00 &euro;</td>
  							</tr>
  							<tr>
  								<td>002</td>
  								<td>
  									<div>
  										<!-- <button type="button" class="btn btn-warning fa fa-sort-down" id="clTb2" onclick="changeIcon('clTb2')" data-toggle="collapse" data-target="#descr2"></button> -->
  										<button type="button" class="btn btn-warning fa fa-sort-down btn-tab" id="2"></button>
  										<span id="descrBrev1">Gestione sicurezza	</span>
  										<div id="descr2" class="collapse multi-collapse descr">
  											Lorem ipsum dolor text....
  										</div>
  									</div>
  									<!-- <div id="descr2" class="collapse multi-collapse descr">
  										Lorem ipsum dolor text....
  									</div> -->
  								</td>
  								<td>
  									<button type="button" class="btn btn-danger fa fa-minus" title="Rimuovi opera"></button>
  									<button type="button" class="btn btn-info  fa fa-pencil-square-o" title="Modifica Opera"></button>
  								</td>
  								<td class="importo">532,44 &euro;</td>
  							</tr>
  
  							<!-- Totali -->
  							<!-- <tr id="totali">
  								<td>Totali</td>
  								<td></td>
  								<td></td>
  								<td class="importo" id="totaleOpere">1.532,44 &euro;</td>
  							</tr> -->
  
  						</tbody>
  					</table>
  				</div>
  			</div>
  			<div class="form-group">
  				<label class="control-label col-sm-2">Importi</label>
  				<label class="control-label col-sm-8" id="labelImp">da fatturare:</label>
  				<div class="col-sm-2">
  					<!-- totale degli importi precedenti -->
  					<!-- <input type="text" class="form-control input-sm" id="impDaFatt" pattern="[0-9]*" onfocusout="calcolaImporti()"> -->
  					<output type="text" id="impDaFatt">1.532,44 &euro;</output>
  				</div>
  			</div>
  			<div class="form-group">
  				<label class="col-sm-offset-2 col-sm-8" id="labelCassaGeom">maggiorazione Cassa Geometri del 5% sull'importo da fatturare:</label>
  				<div class="col-sm-2 importo">
  					<output type="text" id="impCassaGeom">0,00 &euro;</output>
  				</div>
  			</div>
  			<div class="form-group">
  				<label class="col-sm-offset-2 col-sm-8" id="labelTotImpon">totale imponibile:</label>
  				<div class="col-sm-2 importo">
  					<output type="text" id="impTotImpon">0,00 &euro;</output>
  				</div>
  			</div>
  			<div class="form-group">
  				<label class="col-sm-offset-2 col-sm-8" id="labelIvaImpon">IVA 22% sull'imponibile:</label>
  				<div class="col-sm-2 importo">
  					<output type="text" id="impIvaImpon">0,00 &euro;</output>
  				</div>
  			</div>
  			<div class="form-group">
  				<!-- lasciare variabile  -->
  				<label class="col-sm-offset-2 col-sm-8" id="labelArt15">rimborso spese esente art.15:</label>
  				<div class="col-sm-2 importo">
  					<output type="text" id="impArt15">0,00 &euro;</output>
  				</div>
  			</div>
  			<div class="form-group">
  				<label class="col-sm-offset-2 col-sm-8" id="labelTotFat">totale fattura:</label>
  				<div class="col-sm-2 importo">
  					<output type="text" id="impTotFat">0,00 &euro;</output>
  				</div>
  			</div>
  			<div class="form-group" id="ritenuta">
  				<label class="col-sm-offset-2 col-sm-8" id="labelRitAcc">ritenuta d'acconto:</label>
  				<div class="col-sm-2 importo">
  					<output type="text" id="impRitAcc">0,00 &euro;</output>
  				</div>
  			</div>
  			<div class="form-group">
  				<label class="col-sm-offset-2 col-sm-8" id="labelImpCor">importo da corrispondere:</label>
  				<div class="col-sm-2 importo">
  					<output type="text" id="impImpCor">0,00 &euro;</output>
  				</div>
  			</div>
  			<div class="form-group">
  				<div class="col-sm-offset-2 col-sm-10">
  					<span class="btn-group" id="footer">
  	          <button type="submit" class="btn btn-warning fa fa-save" title="Salva"></button>
  						<button type="export" class="btn btn-danger fa fa-file-pdf-o" title="Esporta in pdf"></button>
  					</span>
  				</div>
  			</div>
  		</form>
  	</div>
  
  	<!-- Modal -->
  	<!-- GESTIONE CLIENTE -->
  	<div id="modalCliente" class="modal fade" role="dialog">
  		<div class="modal-dialog">
  			<!-- Modal content-->
  			<div class="modal-content">
  				<div class="modal-header">
  					<h4 class="modal-title">Ricerca cliente</h4>
            <button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fa fa-times"></i></button>
  				</div>
  				<div class="modal-body">
  					<input type="text" class="form-control" id="modClienteNome" onkeyup="searchNome()" placeholder="Ricerca per nome..">
  					<input type="text" class="form-control" id="modClientePiva" onkeyup="searchCdfisPiva()" placeholder="Ricerca per CDFISC o PIVA..">
  					<br>
  					<table id="modClienteTab" class="table table-hover table-condensed table-responsive">
  						<tr class="header">
  							<th style="width:15%;">Cod.</th>
  							<th style="width:50%;">Nome</th>
  							<th style="width:35%;">CDFISC/PIVA</th>
  						</tr>
  						<tr>
  							<td>001</td>
  							<td>Galvani Davide</td>
  							<td>GLVDVD87L14L949T</td>
  						</tr>
  						<tr>
  							<td>002</td>
  							<td>Rossi Mario</td>
  							<td>RSSMRA43L22L949T</td>
  						</tr>
  						<tr>
  							<td>003</td>
  							<td>Costruzioni edili S.p.A.</td>
  							<td>1234567890</td>
  						</tr>
  					</table>
  				</div>
  				<div class="modal-footer">
  					<button type="button" class="btn btn-info" title="Inserisci nuovo cliente" data-toggle="modal" data-target="#modalClienteIns" onclick="initAttrModIns()">
  						<span class="fa fa-plus"></span>
  						<span class="fa fa-user"></span>
  					</button>
  				</div>
  			</div>
  		</div>
  	</div>
  
  	<div id="modalClienteIns" class="modal fade" role="dialog">
  		<div class="modal-dialog">
  			<!-- Modal content-->
  			<div class="modal-content">
  				<div class="modal-header">
  					<h4 class="modal-title">Inserisci cliente</h4>
            <button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fa fa-times"></i></button>
  				</div>
  				<div class="modal-body">
  					<span class="btn-group">
  	          <button type="button" class="btn btn-success" id="modBtnPriv" onclick="setPrivato()">Privato</button>
  						<button type="button" class="btn btn-default" id="modBtnSoc" onclick="setSocieta()">Società</button>
  					</span>
  					<br>
  					<label for="Nome" id="modCliNomeL">Nome:</label>
  					<input type="text" class="form-control" id="modCliNomeI">
  					<label for="Cognome" id="modCliCognomeL">Cognome:</label>
  					<input type="text" class="form-control" id="modCliCognomeI">
  					<label for="Cdfis" id="modCliCdfisL">Codice fiscale:</label>
  					<input type="text" class="form-control" id="modCliCdfisI">
  					<label for="RagSoc" id="modCliRagSocL">Ragione Sociale:</label>
  					<input type="text" class="form-control" id="modCliRagSocI">
  					<label for="Piva" id="modCliPivaL">Partita Iva:</label>
  					<input type="text" class="form-control" id="modCliPivaI">
  					<label for="Indir">Indirizzo:</label>
  					<input type="text" class="form-control" id="modCliIndirI">
  					<label for="NumCiv">Num. civico:</label>
  					<input type="text" class="form-control" id="modCliNumCivI">
  					<label for="Cap">Cap:</label>
  					<input type="text" class="form-control" id="modCliCapI">
  					<label for="Comune">Comune:</label>
  					<input type="text" class="form-control" id="modCliComuneI">
  					<label for="Prov">Provincia:</label>
  					<input type="text" class="form-control" id="modCliProvI">
  				</div>
  				<div class="modal-footer">
  					<!-- <button type="button" class="btn btn-warning" data-dismiss="modal">Prova</button> -->
  					<!-- <button type="button" class="btn btn-warning" data-dismiss="modal">Close</button> -->
  					<button type="submit" class="btn btn-warning fa fa-save" title="Salva"></button>
  				</div>
  			</div>
  		</div>
  	</div>
  	<!-- FINE GESTIONE CLIENTE -->
  
  	<!-- GESTIONE OPERE -->
  	<div id="modalOpera" class="modal fade" role="dialog">
  		<div class="modal-dialog">
  			<!-- Modal content-->
  			<div class="modal-content">
  				<div class="modal-header">
  					<h4 class="modal-title">Ricerca opera</h4>
            <button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fa fa-times"></i></button>
  				</div>
  				<div class="modal-body">
  					<input type="text" class="form-control" id="modOperaId" onkeyup="searchOpId()" placeholder="Ricerca per CODICE..">
  					<input type="text" class="form-control" id="modOperaDesc" onkeyup="searchOpDesc()" placeholder="Ricerca per DESCRIZIONE..">
  					<br>
  					<table id="modOperaTab" class="table table-hover table-condensed table-responsive">
  						<tr class="header">
  							<th style="width:15%;">Cod.</th>
  							<th style="width:75%;">Descrizione</th>
  						</tr>
  						<tr>
  							<td>001</td>
  							<td>Saldo spese trasformazione veranda</td>
  						</tr>
  						<tr>
  							<td>002</td>
  							<td>Gestione sicurezza</td>
  						</tr>
  					</table>
  				</div>
  				<div class="modal-footer">
  					<button type="button" class="btn btn-info" title="Inserisci nuova opera" data-toggle="modal" data-target="#modalOperaIns">
  						<span class="fa fa-plus"></span>
  						<span class="fa fa-pencil-square-o"></span>
  					</button>
  				</div>
  			</div>
  		</div>
  	</div>
  
  	<div id="modalOperaIns" class="modal fade" role="dialog">
  		<div class="modal-dialog">
  			<!-- Modal content-->
  			<div class="modal-content">
  				<div class="modal-header">
  					<h4 class="modal-title">Inserisci opera</h4>
            <button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fa fa-times"></i></button>
  				</div>
  				<div class="modal-body">
  					<label for="DescrBreve">Descrizione breve:</label>
  					<input type="text" class="form-control" id="modOpDescbI">
  					<label for="Descrizione">Descrizione:</label>
  					<textarea class="form-control" row="5" id="modOpDescI"></textarea>
  					<label for="Importo">Importo:</label>
  					<input type="text" class="form-control" id="modOpImportoI">
  				</div>
  				<div class="modal-footer">
  					<button type="submit" class="btn btn-warning fa fa-save" title="Salva"></button>
  				</div>
  			</div>
  		</div>
  	</div>
  
  	<div id="modalOperaMod" class="modal fade" role="dialog">
  		<div class="modal-dialog">
  			<!-- Modal content-->
  			<div class="modal-content">
  				<div class="modal-header">
  					<h4 class="modal-title">Modifica opera</h4>
            <button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fa fa-times"></i></button>
  				</div>
  				<div class="modal-body">
  					<label for="DescrBreve">Descrizione breve:</label>
  					<input type="text" class="form-control" id="modOpDescbI" value="Saldo spese trasformazione veranda">
  					<label for="Descrizione">Descrizione:</label>
  					<textarea class="form-control" row="5" id="modOpDescI">Saldo spese tecniche riguardanti il progetto per la trasformazione di una terrazza in veranda, a servizio dell'unità abitativa di proprietà, sita in Via Salvo D'acquisto n. 4/A nel comune di Mozzecane, di cui a Segnalazione Certificata di Inizio Attività Prot. n. 9221 del 16/11/2017.</textarea>
  					<label for="Importo">Importo:</label>
  					<input type="text" class="form-control" id="modOpImportoI" value="1.000,00">
  				</div>
  				<div class="modal-footer">
  					<button type="submit" class="btn btn-warning fa fa-save" title="Salva"></button>
  				</div>
  			</div>
  		</div>
  	</div>
  	<!-- FINE GESTIONE OPERE -->

    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> -->
    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script> -->
  </body>
</html>
